<div class="row main">
	<div ng-controller="MainCtrl ">
	<!-- Heading used to display next stop, destination and expected time of arrival-->
		<div class="display-head col-xs-12">
			<div class="col-xs-3 col-md-2 text-center header-left">
				<h4 ng-show="busInfo.displayMode==2||busInfo.displayMode==4||busInfo.displayMode==5">NÃ¦ste stop</h4>
				<h5 ng-show="busInfo.displayMode==2||busInfo.displayMode==4||busInfo.displayMode==5">Next stop</h5>
				<h4 ng-show="busInfo.displayMode==3">Mod</h4>
				<h5 ng-show="busInfo.displayMode==3">Towards</h5>
			</div>
			<div ng-show="busInfo.displayMode==2||busInfo.displayMode==4||busInfo.displayMode==5" class="col-xs-9 col-md-10">
				<h2>{{busInfo.nextStop.stopPointName}}</h2>
				<h4>Forventet ankomst {{busInfo.nextStop.stopPointName}} kl. {{busInfo.nextStop.expectedArrivalDateTime| amDateFormat:'HH:mm ' }}</h4>
				<h5>Expected arrival {{busInfo.nextStop.stopPointName}} at {{busInfo.nextStop.expectedArrivalDateTime | amDateFormat:'HH:mm '}}</h5>
			</div>
			<div ng-show="busInfo.displayMode==3" class="col-xs-9 col-md-10">
				<h2>{{busInfo.lineDestination}}</h2>
				<h4>Forventet ankomst {{busInfo.finalStop.stopPointName}} kl. {{busInfo.finalStop.expectedArrivalDateTime| amDateFormat:'HH:mm ' }}</h4>
				<h5>Expected arrival {{busInfo.finalStop.stopPointName}} at {{busInfo.finalStop.expectedArrivalDateTime | amDateFormat:'HH:mm '}}</h5>
			</div>
		</div>
		<div class="display-body">
			<!-- Left panel showing line, zone & time -->
			<div class="col-xs-12 col-md-2 left-panel text-center">
				<div id="stop-sign" ng-show="busInfo.displayMode==3" class="text-center">
					<p id="stop">STOP</p>
				</div>
				<div id="dot-logo" ng-show="busInfo.displayMode==2||busInfo.displayMode==4||busInfo.displayMode==5">
					DOT
				</div>
				<div class="col-xs-4 col-md-12">
					<h4>Linje:</h4>
					<h5>{{busInfo.lineDesignation}}</h5>
				</div>
				<div class="col-xs-4 col-md-12">
					<h4>Zone: </h4>
					<h5>{{busInfo.zoneNumber}}</h5>
				</div>
				<div class="col-xs-4 col-md-12">
					<h4>{{busInfo.time | amDateFormat:'HH:mm '}}</h4>
				</div>
			</div>
			<!-- images are for functional purpose, used when no connections are available or the bus is stopped -->
			<div class="col-xs-12 col-md-10"  ng-show="busInfo.displayMode==3">
				<img class="replacement-image" src="images/sea-5.jpg" alt="">
			</div>
			<div class="col-xs-12 col-md-10"  ng-show="busInfo.nextStop.connections.length==0">
				<img class="replacement-image" src="images/mountain-1.jpg" alt="">
			</div>

			<!--DISPLAY MODE 4 -->
			<div class="col-xs-12 col-md-10"  ng-show="busInfo.displayMode==4">
				<!-- BUS -->
				<div class="busses col-xs-12   transContainerSmall" ng-show="computeTransportType(busInfo.nextStop.connections, 'BUS')">
					<h3 class="col-xs-12"><img class="transport-head-image" src="images/bus.png">Bus</h3>
					<div class="col-xs-12 ">
						<div class="transport-head   col-md-6">
							<div class=" head-dk transport-head">
								<span class="col-xs-2 text-center transport-head">Linje</span>
								<span class="col-xs-8 transport-head">Til</span>
								<span class="col-xs-2 text-center transport-head">Om min.</span>
							</div>
							<div class="head-en transport-head">
								<span class="col-xs-2 text-center transport-head">Line</span>
								<span class="col-xs-8 transport-head">To</span>
								<span class="col-xs-2 text-center transport-head">In min.</span>
							</div>
						</div>
					 	<!-- 2-column layout requires two headings for the connections -->
						<div class="transport-head col-md-6" ng-show="moreThanOne(busInfo.nextStop.connections, 'BUS')">
							<div class="  head-dk transport-head">
								<span class="col-xs-2 text-center transport-head">Linje</span>
								<span class="col-xs-8 transport-head">Til</span>
								<span class="col-xs-2 text-center transport-head">Om min.</span>
							</div>
							<div class=" head-en transport-head">
								<span class="col-xs-2 text-center transport-head">Line</span>
								<span class="col-xs-8 transport-head">To</span>
								<span class="col-xs-2 text-center transport-head">In min.</span>
							</div>
						</div>
					</div>
					<!-- display mode 4 has only bus connections, so only these are shown -->
					<div class="col-xs-12 ">
						<div class="col-xs-12 col-md-6 bus-line-4"  ng-repeat="connection in busInfo.nextStop.connections | checkType:'BUS' | orderBy:'expectedDepartureDateTime' | limitTo:4 " >
							<div  class=" col-xs-2 ">
								<div ng-class="connection.lineType" class="col-xs-8 col-xs-offset-3 connection-dest text-center">{{connection.lineDesignation}}</div>
							</div>
							<div class="connection-line  pull-left col-xs-8">{{connection.lineDestination}}</div>
							<span class="pull-right col-xs-2 text-center" ng-hide="negTime(connection.timeLeft)" >{{connection.timeLeft}}</span>
							<span class="pull-right col-xs-2 text-center" ng-show="negTime(connection.timeLeft)" >Nu</span>
							
						</div>
					</div>
				</div>
				<!-- image used to fill the rest of the space -->
				<img class="replacement-image" src="images/sea-5.jpg" alt="">
			</div>
			<!--DISPLAY MODE 5 -->
			<div class="col-xs-12 col-md-10"  ng-show="busInfo.displayMode==5">
				<!-- BUS -->
				<div class="busses col-xs-12 col-md-6 transContainer" ng-show="computeTransportType(busInfo.nextStop.connections, 'BUS')">
					<h3 class=""><img class="transport-head-image" src="images/bus.png">Bus</h3>
					<div class="transport-head">
						<div class="col-xs-12 head-dk transport-head">
							<span class="col-xs-2 text-center">Linje</span>
							<span class="col-xs-8">Til</span>
							<span class="col-xs-2 text-center">Om min.</span>
						</div>
						<div class="col-xs-12 head-en transport-head">
							<span class="col-xs-2 text-center">Line</span>
							<span class="col-xs-8">To</span>
							<span class="col-xs-2 text-center">In min.</span>
						</div>
					</div>
					<div class="col-xs-12 bus-line" ng-repeat="connection in busInfo.nextStop.connections | checkType:'BUS' | orderBy:'expectedDepartureDateTime' | limitTo:8 " >
						<div  class=" col-xs-2 ">
							<div ng-class="connection.lineType" class="col-xs-8 col-xs-offset-3 connection-dest text-center">{{connection.lineDesignation}}</div>
						</div>
						<div class="connection-line  pull-left col-xs-8">{{connection.lineDestination}}</div>
						<span class="pull-right col-xs-2 text-center" ng-hide="negTime(connection.timeLeft)" >{{connection.timeLeft}}</span>
						<span class="pull-right col-xs-2 text-center" ng-show="negTime(connection.timeLeft)" >Nu</span>
					</div>
				</div>
				<!-- S-TOG -->
				<div class="s-tog col-xs-12 col-md-6 transContainer" ng-show="computeTransportType(busInfo.nextStop.connections, 'S-TOG')">
					<h3><img class="transport-head-image" src="images/stog.png">S-Tog</h3>
					<div class="transport-head">
						<div class="col-xs-12 head-dk transport-head">
							<span class="col-xs-1">Linje</span>
							<span class="col-xs-7">Til</span>
							<span class="col-xs-2 ">Om min.</span>
							<span class="col-xs-2 text-center">Spor</span>
						</div>
						<div class="col-xs-12 head-en transport-head">
							<span class="col-xs-1">Line</span>
							<span class="col-xs-7">To</span>
							<span class="col-xs-2 ">In min.</span>
							<span class="col-xs-2 text-center">Track</span>
						</div>
					</div>
					<div class="col-xs-12 bus-line" ng-repeat="connection in busInfo.nextStop.connections | checkType:'S-TOG' | orderBy:'expectedDepartureDateTime' | limitTo:8" ng-hide="negTime(connection.timeLeft)">
						<div ng-class="connection.lineType" class="train-line pull-left col-xs-1 text-center">{{connection.lineDesignation}}</div>
						<div class="connection-line  pull-left col-xs-7">{{connection.lineDestination}}</div>
						<span class=" col-xs-2 text-center" ng-hide="negTime(connection.timeLeft)" >{{connection.timeLeft}}</span>
						<span class="col-xs-2 text-center" ng-show="negTime(connection.timeLeft)" >Nu</span>
						<span class="col-xs-2 pull-right track">{{connection.track}}</span>
					</div>
				</div>
				<!-- METRO -->
				<div class="metro col-xs-12 col-md-6 transContainer" ng-show="computeTransportType(busInfo.nextStop.connections, 'METRO')">
					<h3><img class="transport-head-image" src="images/metro.png">Metro</h3>
					<div class="transport-head">
						<div class="col-xs-12 head-dk transport-head">
							<span class="col-xs-1">Linje</span>
							<span class="col-xs-8">Til</span>
							<span class="col-xs-2">Om min.</span>
						</div>
						<div class="col-xs-12 head-en transport-head">
							<span class="col-xs-1">Line</span>
							<span class="col-xs-8">To</span>
							<span class="col-xs-2">In min.</span>
						</div>
					</div>
					<div class="col-xs-12 bus-line" ng-repeat="connection in busInfo.nextStop.connections | checkType:'METRO' | orderBy:'expectedDepartureDateTime' | limitTo:8">
						<div ng-class="connection.lineType" class="metro-line col-xs-1 text-center">{{connection.lineDesignation}}</div>
						<div ng-show="" class="">{{}} </div>
						<div class="connection-line  pull-left col-xs-8">{{connection.lineDestination}}</div>
						<span class="col-xs-2 text-center" ng-hide="negTime(connection.timeLeft)" >{{connection.timeLeft}}</span>
						<span class="col-xs-2 text-center" ng-show="negTime(connection.timeLeft)" >Nu</span>
					</div>
				</div>
				<!-- TOG -->
				<div class="trains col-xs-12 col-md-6 transContainer" ng-show="computeTransportType(busInfo.nextStop.connections, 'TOG')">
					<h3><img class="transport-head-image" src="images/tog.png">Tog</h3>
					<div class="transport-head">
						<div class="col-xs-12 head-dk transport-head">
							<span class="col-xs-1">Linje</span>
							<span class="col-xs-8">Til</span>
							<span class="col-xs-2 ">Afgang</span>
							<span class="col-xs-1 pull-right">Spor</span>
						</div>
						<div class="col-xs-12 head-en transport-head">
							<span class="col-xs-1">Line</span>
							<span class="col-xs-8">To</span>
							<span class="col-xs-2 ">Departure</span>
							<span class="col-xs-1 pull-right ">Track</span>
						</div>
					</div>
					<div class="col-xs-12 bus-line" ng-repeat="connection in busInfo.nextStop.connections | checkType:'TOG' | orderBy:'expectedDepartureDateTime' | limitTo:8">
						<div ng-class="connection.lineType" class="connection-dest pull-left col-xs-1 text-center">{{connection.lineDesignation}}</div>
						<div class="connection-line  pull-left col-xs-8">{{connection.lineDestination}}</div>
						<span class="col-xs-2">{{connection.expectedDepartureDateTime | amDateFormat:'HH:mm' }} </span>
						<span class="col-xs-1 pull-right track">{{connection.track}}</span>
					</div>
				</div>
			</div>
		</div>
		<div class="display-footer">
		</div>
	</div>
</div>